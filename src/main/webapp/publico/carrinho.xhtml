<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="/template/layout.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:pm="http://primefaces.org/mobile"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <ui:define name="principal">
        <h:form>
            <div class="col-md-8">
                <h3>Produtos adicionados ao carrinho</h3>
                <p:separator/>
                <p:dataGrid value="#{carrinhoCtrl.lsprod}" var="obj_prod"
                            columns="2">
                    <p:panel styleClass="thumbnail">
                        <h:panelGrid columns="2">
                            <f:facet name="header">
                                <h:outputLabel value="#{obj_prod.nome}" /><br/>
                                <strong>R$<p:outputLabel id="preco" value="#{obj_prod.preco}">
                                        <f:convertNumber pattern="#0.00"/>
                                    </p:outputLabel></strong>
                            </f:facet>
                            <h:column>
                                <h:commandButton value="+  Adicionar"
                                                 actionListener="#{carrinhoCtrl.inserirProd(obj_prod)}"
                                                 styleClass="btn btn-success"/>
                            </h:column>
                            <h:column>

                                <h:commandButton value="-   Remover"
                                                 actionListener="#{carrinhoCtrl.actionIntemsRemover(obj_prod)}"
                                                 styleClass="btn btn-default"/>
                            </h:column>
                        </h:panelGrid>
                    </p:panel>
                </p:dataGrid>


            </div>
            <div class="col-md-4">
                <h3>Total geral</h3>
                <p:separator/>
                <div class="well wedget">

                    <strong>Subtotal: </strong>
                    <div class="heading-border b-color-6"></div>

                    <div class="progress">
                        <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100" style="width: 20%">
                            <span class="sr-only">20% Complete</span>
                        </div>
                    </div>

                    <small>Quantidades de Produtos : 
                        <h:outputLabel for="forms" value="#{carrinhoCtrl.qdtTotal}"/></small><br/>
                    <label class="label-info"><p>Total: <span>R$<h:outputLabel value="#{carrinhoCtrl.subtotal}"/></span></p></label><br/>
                </div>

                <h:commandButton value="Fechar Compra"
                                 action="/publico/login"
                                 styleClass="btn btn-success btn-xs pull-right" style="margin: 5px;"/>
                <h:commandButton value="Continuar Comprando"
                                 action="/publico/index?faces-redirect=true"
                                 styleClass="btn btn-danger btn-xs pull-right"/>
            </div>
            <div style="clear: both"></div>
        </h:form>
    </ui:define>
</ui:composition>