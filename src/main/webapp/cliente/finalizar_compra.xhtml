<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="/template/layout.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <ui:define name="principal">
        <h:form id="form">
            <h3>Ambiente 100% Seguro!!!</h3>
            <p:separator/>
            <f:event listener="#{carrinhoCtrl.verificarStatus()}" type="preRenderView" />
            <p:messages id="msgs" />
            <p:panel header="Altera&ccedil;&atilde;o de Usu&aacute;rios">
                <br />
                <p:fieldset legend="Dados cadastrais">
                    <br />
                    <h:panelGrid columns="4" width="900">
                        <h:column>
                            <h:outputLabel value="Nome:" />
                        </h:column>
                        <h:column>
                            <p:inputText id="nome" size="40"
                                         value="#{carrinhoCtrl.pessoa.nome}" />
                        </h:column>
                        <h:column>
                            <h:outputLabel value="E-mail:" />
                        </h:column>
                        <h:column>
                            <p:inputText id="email" size="40"
                                         value="#{carrinhoCtrl.pessoa.email}" />
                        </h:column>

                        <h:column>
                            <h:outputLabel value="CPF:" />
                        </h:column>

                        <h:column>
                            <p:inputText id="cpfcnpj" size="20"
                                         value="#{carrinhoCtrl.pessoa.cpf}" />
                        </h:column>

                        <h:column>
                            <h:outputLabel value="RG:" />    
                        </h:column>   
                        <h:column>
                            <p:inputText id="rg" size="20" value="#{carrinhoCtrl.pessoa.rg}" />
                        </h:column>

                        <h:column>  
                            <h:outputLabel value="Data de Nascimento:" />
                        </h:column>
                        <h:column>
                            <p:inputText  id="da" 
                                          value="#{carrinhoCtrl.pessoa.data_nasc}" maxlength="10"
                                          onkeypress="formatarData('##/##/####', this);">
                                <f:convertDateTime locale="pt_BR" type="date" dateStyle="medium" />
                            </p:inputText>
                        </h:column>
                        <h:column>
                            <h:outputLabel value="Status:" />
                        </h:column>

                        <h:column>
                            <h:selectOneRadio id="status">
                                <f:selectItem itemLabel="Ativo" itemValue="AT" />
                                <f:selectItem itemLabel="Inativo" itemValue="IN" />
                            </h:selectOneRadio>
                        </h:column>
                        <br />
                    </h:panelGrid>

                </p:fieldset>
                <p:panel header="CONTATOS">
                    <br />
                    <h:panelGrid columns="4" width="900">
                        <h:dataTable value="#{carrinhoCtrl.pessoa.fones}" var="fone"
                                     rules="rows">
                            <f:facet name="header">
                                <h:commandButton value="Adicionar Fone"
                                                 action="#{carrinhoCtrl.actionInserirFoneCliente}" />
                            </f:facet>

                            <h:column>
                                <f:facet name="header">
                                    <h:outputLabel value="Número" />
                                </f:facet>
                                <h:inputText value="#{fone.numero}" size="20" maxlength="20" />
                            </h:column>

                            <h:column>
                                <f:facet name="header">
                                    <h:outputLabel value="Descrição" />
                                </f:facet>
                                <h:inputText value="#{fone.descricao}" size="30" maxlength="30" />
                            </h:column>
                            <h:column>
                                <h:commandLink value="Remover"
                                               action="#{carrinhoCtrl.actionExcluirFoneCliente(fone)}" />
                            </h:column>

                        </h:dataTable>
                    </h:panelGrid>
                </p:panel>
                <br />
                <p:fieldset legend="Endere&ccedil;o">
                    <br />
                    <h:panelGrid columns="4" width="900">
                        <h:column>
                            <h:outputLabel value="Rua:" />
                        </h:column>
                        <h:column>
                            <p:inputText id="rua" size="40" value="#{carrinhoCtrl.pessoa.rua}" />
                        </h:column>
                        <h:column>
                            <h:outputLabel value="Complemento:" />
                        </h:column>
                        <h:column>
                            <p:inputText required="false" id="complemento" size="40" />
                        </h:column>
                        <h:column>
                            <h:outputLabel value="N&uacute;mero:" />
                        </h:column>
                        <h:column>
                            <p:inputText required="false" id="numero" size="20" />
                        </h:column>
                        <h:column>
                            <h:outputLabel value="Bairro:" />
                        </h:column>
                        <h:column>
                            <p:inputText id="bairro" size="40"
                                         value="#{carrinhoCtrl.pessoa.bairro}" />
                        </h:column>
                        <h:column>
                            <h:outputLabel value="CEP:" />
                        </h:column>
                        <h:column>
                            <p:inputText required="false" id="cep" size="20"
                                         value="#{carrinhoCtrl.pessoa.cep}" />
                        </h:column>

                        <h:column>

                        </h:column>
                        <h:column>

                        </h:column>



                    </h:panelGrid>
                    <p:separator />
                    <br></br>
                </p:fieldset>
            </p:panel>
            <p:separator/>
            <legend class="text-muted">Pagamento: </legend>


            <div class="col-md-12 thumbnail">
                <ul class="list-inline center-block" style="margin-top: 20px;">
                    <li><h:graphicImage library="images" name="card-1.png"
                                        height="30" /></li>
                    <li><h:graphicImage library="images" name="card-2.png"
                                        height="30" /></li>
                    <li><h:graphicImage library="images" name="card-3.png"
                                        height="30" /></li>
                    <li><h:graphicImage library="images" name="card-4.png"
                                        height="30" /></li>
                    <li><h:graphicImage library="images" name="card-5.png"
                                        height="30" /></li>
                </ul>
               
                <h:outputLabel value="Selecione uma forma de Pagamento " />
               
                <p:selectOneRadio value="#{carrinhoCtrl.formaPgto}" 
                                              converter="omnifaces.SelectItemsConverter" 
                                              layout="pageDirection" styleClass="text-uppercase">
                                <f:selectItems value="#{carrinhoCtrl.forpgt}" 
                                               var="pgt" itemValue="#{pgt}" itemLabel="#{pgt.descricao}" />
                                <p:ajax listener="#{carrinhoCtrl.actionTipodePgt}" 
                                        update="fm,  teste" />
                </p:selectOneRadio>

                <p:panel id="teste" widgetVar="testPanel" closable="true" toggleable="true">
                    <h3 class="text-muted"> <h:outputLabel  value="#{carrinhoCtrl.msg}"/></h3>

                </p:panel>
            </div>
            <p:panel header="Dados do Cartão">
                <h:outputLabel value="Nome do Titular:"/>
                <h:inputText value="#{carrinhoCtrl.pessoa.nome}"
                             />
                <h:outputLabel value=" Nº do Cartão:"/>
                <h:inputText value="#{carrinhoCtrl.msg}" required="true" label="Digite Nº do Cartão"
                             />
                <h:outputLabel value=" Validade:"/>
                <h:selectOneMenu 
                    converter="omnifaces.SelectItemsConverter"
                    value="#{carrinhoCtrl.validade}">
                    <f:selectItem  itemValue="01"
                                   itemLabel="01" />
                    <f:selectItem  itemValue="02"
                                   itemLabel="02" />
                    <f:selectItem  itemValue="03"
                                   itemLabel="03" />

                </h:selectOneMenu>
                <h:outputLabel value="Ano:"/>
                <h:selectOneMenu 
                    converter="omnifaces.SelectItemsConverter"
                    value="#{carrinhoCtrl.formaPgto.numMaxParc}">
                    <f:selectItem  itemValue="2016"
                                   itemLabel="2016" />
                    <f:selectItem  itemValue="2017"
                                   itemLabel="2017" />
                    <f:selectItem  itemValue="2018"
                                   itemLabel="2018" />
                    <f:selectItem  itemValue="2019"
                                   itemLabel="2019" />
                </h:selectOneMenu>
                <label for="fm" class="cols-sm-2 control-label"> Parcelas:</label>
                <h:selectOneMenu id="fm" 
                                 converter="omnifaces.SelectItemsConverter"
                                 value="#{carrinhoCtrl.formaPgto.numMaxParc}">
                    <f:selectItem  itemValue="#{carrinhoCtrl.formaPgto.numMaxParc}"
                                   itemLabel="#{carrinhoCtrl.formaPgto.numMaxParc}" />
                    <f:selectItems value="#{carrinhoCtrl.lsint}" var="qtd"
                                   itemValue="#{qtd}" itemLabel="#{qtd.intValue()}" />
                </h:selectOneMenu>
            </p:panel>

            <h:commandButton value="Finalizar Compra"
                             action="#{carrinhoCtrl.actionPedido()}"
                             styleClass="btn btn-block btn-primary" style="margin-top: 20px;"/>
        </h:form>
        <div class="clear"> </div>

    </ui:define>
</ui:composition>
